[package]
name = "moor-model-checker"
version = "1.0.0-beta2"
authors.workspace = true
categories.workspace = true
edition.workspace = true
keywords.workspace = true
license.workspace = true
readme.workspace = true
repository.workspace = true
rust-version.workspace = true
description = "Load testing and transaction model checking"

[lints.rust]
unexpected_cfgs = { level = "warn", check-cfg = ['cfg(coverage,coverage_nightly)'] }

[lib]
name = "moor_model_checker"
path = "src/lib.rs"

[[bin]]
name = "list-append"
path = "src/elle-list-append.rs"

[[bin]]
name = "rw-register"
path = "src/elle-rw-register.rs"

# Note: this model currently fails with 0.1.9 of elle, but elle also fails for their reference files for it, too...
[[bin]]
name = "bank"
path = "src/elle-bank.rs"

[[bin]]
name = "load-test"
path = "src/verb-dispatch-load-test.rs"

[[bin]]
name = "direct-scheduler-load-test"
path = "src/direct-scheduler-load-test.rs"

[[bin]]
name = "anonymous-object-load-test"
path = "src/anonymous-object-load-test.rs"

[[bin]]
name = "suspend-resume-bench"
path = "src/suspend-resume-bench.rs"

[[bin]]
name = "property-update-load-test"
path = "src/property-update-load-test.rs"

[[bin]]
name = "opcode-load-test"
path = "src/opcode-load-test.rs"

[[bin]]
name = "property-scheduler-load-test"
path = "src/property-scheduler-load-test.rs"

[dependencies]
# Internal Dependencies - Direct DB access only
moor-common = { path = "../../common" }
moor-db = { path = "../../db" }
moor-var = { path = "../../var" }

# Other binaries still need these
moor-compiler = { path = "../../compiler" }
moor-kernel = { path = "../../kernel" }
moor-schema = { path = "../../schema" }
rpc-async-client = { path = "../../rpc/rpc-async-client" }
rpc-common = { path = "../../rpc/rpc-common" }

# Command Line & Configuration
clap.workspace = true
clap_derive.workspace = true

# Error Handling
color-eyre.workspace = true
eyre.workspace = true

# EDN format for Elle
edn-format.workspace = true

# Random operations
rand.workspace = true

# Temporary database
tempfile.workspace = true

# Dependencies for other binaries
csv.workspace = true
futures.workspace = true
planus.workspace = true
semver.workspace = true
tabled.workspace = true
tmq.workspace = true
tokio.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
uuid.workspace = true
