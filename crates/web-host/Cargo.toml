[build-dependencies]
rolldown = {git = "https://github.com/rolldown/rolldown"}
tokio = {workspace = true, features = ["rt", "macros", "sync", "rt-multi-thread"]}

[dependencies]
# Internal Dependencies
moor-common = {path = "../common"}
moor-var = {path = "../var"}
#
rolldown = {git = "https://github.com/rolldown/rolldown"}
rpc-async-client = {path = "../rpc/rpc-async-client"}
rpc-common = {path = "../rpc/rpc-common"}
# Networking & Communication
axum.workspace = true
# Serialization & Data Formats
base64.workspace = true
# Command Line & Configuration
clap.workspace = true
clap_derive.workspace = true
# Error Handling & Logging
color-eyre.workspace = true
eyre.workspace = true
figment.workspace = true
# Async Runtime & Concurrency
futures-util.workspace = true
serde.workspace = true
serde_derive.workspace = true
serde_json.workspace = true
thiserror.workspace = true
tmq.workspace = true
tokio.workspace = true
tower-http.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
# Utilities & Helpers
uuid.workspace = true

[package]
description = "A RESTful web front end for interacting with the mooR system"
name = "moor-web-host"
version = "0.9.0-alpha"
authors.workspace = true
categories.workspace = true
edition.workspace = true
keywords.workspace = true
license.workspace = true

[package.metadata.deb]
assets = [
  ["target/release/moor-web-host", "/usr/bin/moor-web-host", "755"],
  [
    "debian/moor-web-host.service",
    "/lib/systemd/system/moor-web-host.service",
    "644"
  ],
  ["debian/web-host.yaml", "/etc/moor/web-host.yaml", "644"],
  ["src/client/*", "/var/lib/moor-web-host/", "644"]
]
depends = "$auto, systemd, openssl"
extended-description = "Process for listening for HTTP requests and forwarding them to a mooR daemon."
license-file = ["../../LICENSE", "0"]
maintainer-scripts = "debian/scripts"
priority = "optional"
section = "net"
systemd-units = {enable = false}
readme.workspace = true
repository.workspace = true
rust-version.workspace = true
